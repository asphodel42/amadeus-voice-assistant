"""
Emotional TTS Demo

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –µ–º–æ—Ü—ñ–π–Ω–æ–≥–æ TTS –∑ —Ä—ñ–∑–Ω–∏–º–∏ —ñ–Ω—Ç–æ–Ω–∞—Ü—ñ—è–º–∏ —Ç–∞ –ø–∞—É–∑–∞–º–∏.
"""

from amadeus.adapters.voice.tts import Pyttsx3Adapter, EmotionType
import time


def demo_emotions():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö –µ–º–æ—Ü—ñ–π."""
    print("=" * 60)
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –µ–º–æ—Ü—ñ–π–Ω–æ–≥–æ TTS")
    print("=" * 60)
    print()
    
    tts = Pyttsx3Adapter(rate=180, volume=1.0)
    
    # –¢–µ—Å—Ç –≤—Å—ñ—Ö –µ–º–æ—Ü—ñ–π
    emotions = [
        (EmotionType.FRIENDLY, "–ü—Ä–∏–≤—ñ—Ç! –Ø –ê–º–∞–¥–µ—É—Å. <pause> –ì–æ—Ç–æ–≤–∞ –≤–∞–º –¥–æ–ø–æ–º–æ–≥—Ç–∏."),
        (EmotionType.CONFIDENT, "–ó—Ä–æ–∑—É–º—ñ–ª–∞. <pause> –í–∏–∫–æ–Ω—É—é –≤–∞—à—É –∫–æ–º–∞–Ω–¥—É."),
        (EmotionType.HAPPY, "–í—ñ–¥–º—ñ–Ω–Ω–æ! <pause> –ö–æ–º–∞–Ω–¥—É –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!"),
        (EmotionType.ALERT, "–£–≤–∞–≥–∞! <break> –ö–æ–º–∞–Ω–¥–∞ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞. –í–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç–µ?"),
        (EmotionType.APOLOGETIC, "–í–∏–±–∞—á—Ç–µ, —è –≤–∞—Å –Ω–µ –ø–æ—á—É–ª–∞. <pause> –ú–æ–∂–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏?"),
        (EmotionType.CONCERNED, "–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ. <pause> –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑."),
        (EmotionType.EXCITED, "–ß—É–¥–æ–≤–æ! –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!"),
        (EmotionType.NEUTRAL, "–¶–µ –∑–≤–∏—á–∞–π–Ω–µ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è."),
    ]
    
    for emotion, text in emotions:
        print(f"\nüé≠ –ï–º–æ—Ü—ñ—è: {emotion.value.upper()}")
        print(f"üì¢ –¢–µ–∫—Å—Ç: {text}")
        print("üîä –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è...")
        
        tts.speak_with_emotion(text, emotion)
        time.sleep(0.5)
    
    print("\n" + "=" * 60)
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
    print("=" * 60)


def demo_pauses():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–∞—É–∑."""
    print("\n" + "=" * 60)
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø–∞—É–∑")
    print("=" * 60)
    print()
    
    tts = Pyttsx3Adapter(rate=180)
    
    test_phrases = [
        ("–ë–µ–∑ –ø–∞—É–∑", "–¶–µ —Ä–µ—á–µ–Ω–Ω—è –±–µ–∑ –∂–æ–¥–Ω–∏—Ö –ø–∞—É–∑ –≤–∑–∞–≥–∞–ª—ñ"),
        ("<pause>", "–ö–æ—Ä–æ—Ç–∫–∞ –ø–∞—É–∑–∞. <pause> –ü—Ä–æ–¥–æ–≤–∂—É—é –ø—Ä–æ–º–æ–≤—É."),
        ("<break>", "–°–µ—Ä–µ–¥–Ω—è –ø–∞—É–∑–∞. <break> –¶–µ –ø—ñ—Å–ª—è break."),
        ("<pause:2.0>", "–î–æ–≤–≥–∞ –ø–∞—É–∑–∞. <pause:2.0> –¶–µ –ø—ñ—Å–ª—è 2 —Å–µ–∫—É–Ω–¥."),
        ("...", "–¢—Ä–∏ –∫—Ä–∞–ø–∫–∏... –¶–µ –ø—Ä–∏—Ä–æ–¥–Ω–∞ –ø–∞—É–∑–∞... –ì–∞—Ä–Ω–æ –∑–≤—É—á–∏—Ç—å."),
        ("–ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è", "–ü—Ä–∏–≤—ñ—Ç! <pause> –ó–∞—á–µ–∫–∞–π—Ç–µ... <pause:1.0> –ì–æ—Ç–æ–≤–æ!"),
    ]
    
    for pause_type, text in test_phrases:
        print(f"\n‚è∏Ô∏è  –¢–∏–ø: {pause_type}")
        print(f"üì¢ –¢–µ–∫—Å—Ç: {text}")
        print("üîä –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è...")
        
        tts.speak_with_emotion(text, EmotionType.NEUTRAL)
        time.sleep(0.5)
    
    print("\n" + "=" * 60)
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø–∞—É–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
    print("=" * 60)


def demo_real_scenarios():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è."""
    print("\n" + "=" * 60)
    print("–†–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è")
    print("=" * 60)
    print()
    
    tts = Pyttsx3Adapter(rate=180)
    
    scenarios = [
        ("–ó–∞–ø—É—Å–∫ –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞", "friendly", 
         "–ü—Ä–∏–≤—ñ—Ç! –Ø –ê–º–∞–¥–µ—É—Å. <pause> –ì–æ—Ç–æ–≤–∞ –≤–∞–º –¥–æ–ø–æ–º–æ–≥—Ç–∏. –°–∫–∞–∂—ñ—Ç—å –∞–º–∞–¥–µ—É—Å —â–æ–± –ø–æ—á–∞—Ç–∏."),
        
        ("–ê–∫—Ç–∏–≤–∞—Ü—ñ—è wake word", "friendly",
         "–¢–∞–∫, —Å–ª—É—Ö–∞—é –≤–∞—Å"),
        
        ("–£—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è", "confident",
         "–ó—Ä–æ–∑—É–º—ñ–ª–∞. <pause> –í–∏–∫–æ–Ω—É—é"),
        
        ("–ù–µ –ø–æ—á—É–ª–∞ –∫–æ–º–∞–Ω–¥—É", "apologetic",
         "–í–∏–±–∞—á—Ç–µ, —è –≤–∞—Å –Ω–µ –ø–æ—á—É–ª–∞. <pause> –ú–æ–∂–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏, –±—É–¥—å –ª–∞—Å–∫–∞?"),
        
        ("–ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–±–µ–∑–ø–µ–∫—É", "alert",
         "–£–≤–∞–≥–∞! <break> –ö–æ–º–∞–Ω–¥–∞ –¥—É–∂–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞. –í–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è?"),
        
        ("–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è", "happy",
         "–î–æ–±—Ä–µ. <pause> –í–∏–∫–æ–Ω–∞–Ω–æ"),
        
        ("–°–∫–∞—Å—É–≤–∞–Ω–Ω—è", "neutral",
         "–ì–∞—Ä–∞–∑–¥. <pause> –°–∫–∞—Å–æ–≤–∞–Ω–æ"),
        
        ("–¢–∞–π–º–∞—É—Ç", "concerned",
         "–ß–∞—Å –≤–∏–π—à–æ–≤. <pause> –ö–æ–º–∞–Ω–¥—É —Å–∫–∞—Å–æ–≤–∞–Ω–æ"),
        
        ("–ü–æ–º–∏–ª–∫–∞", "concerned",
         "–ü–æ–º–∏–ª–∫–∞: <pause> —Ñ–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"),
        
        ("–ù–µ–≤–¥–∞—á–∞", "apologetic",
         "–ù–∞ –∂–∞–ª—å, –Ω–µ –≤–¥–∞–ª–æ—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É"),
    ]
    
    for scenario, emotion, text in scenarios:
        print(f"\nüìã –°—Ü–µ–Ω–∞—Ä—ñ–π: {scenario}")
        print(f"üé≠ –ï–º–æ—Ü—ñ—è: {emotion}")
        print(f"üì¢ –¢–µ–∫—Å—Ç: {text}")
        print("üîä –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è...")
        
        emotion_type = getattr(EmotionType, emotion.upper())
        tts.speak_with_emotion(text, emotion_type)
        time.sleep(0.5)
    
    print("\n" + "=" * 60)
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
    print("=" * 60)


if __name__ == "__main__":
    try:
        print("–ü–æ—á–Ω—ñ—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—é? (Enter –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è, Ctrl+C –¥–ª—è –≤–∏—Ö–æ–¥—É)")
        input()
        
        print("\n1. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –µ–º–æ—Ü—ñ–π")
        demo_emotions()
        
        print("\n\n–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é –ø–∞—É–∑? (Enter)")
        input()
        
        print("\n2. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø–∞—É–∑")
        demo_pauses()
        
        print("\n\n–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏? (Enter)")
        input()
        
        print("\n3. –†–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó")
        demo_real_scenarios()
        
        print("\n\n‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        
    except KeyboardInterrupt:
        print("\n\n‚ùå –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—é –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º")
    except Exception as e:
        print(f"\n\n‚ùå –ü–æ–º–∏–ª–∫–∞: {e}")
